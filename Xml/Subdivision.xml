<?xml version="1.0"?>
<Entities xmlns:xsd="http://www.w3.org/2001/XMLSchema" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance">
  <Entity>
    <ClassName>Firebird.Entity.Podrazdelenie</ClassName>
    <SqlText>with recursive tree
as
    (
        select
            p.id_podrazdelenie as "IdPodrazdelenie",
            p.id_parent as "IdParent",
            p.id_region as "IdRegion",
            p.podrazdname as "Podrazdname",
            p.podrazdname_sokr as "PodrazdnameSokr"
        from podrazdelenie p
        where
            p.id_podrazdelenie = :id
        union all
        select
            p.id_podrazdelenie,
            p.id_parent,
            p.id_region,
            p.podrazdname,
            p.podrazdname_sokr
        from podrazdelenie p
            inner join tree prior on prior."IdParent" = p.id_podrazdelenie
    )
select * from tree</SqlText>
  </Entity>
</Entities>